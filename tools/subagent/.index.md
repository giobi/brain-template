# Subagent System

**Purpose**: Sistema modulare di subagent specializzati per task complessi/autonomi

**Philosophy**: Minimale (5 core) + espandibile, domain-driven, security-first

---

## ğŸ“‚ Structure

```
subagent/
â”œâ”€â”€ .index.md                         # This overview
â”œâ”€â”€ README.md                         # Public documentation
â”œâ”€â”€ health-security-guardian.md       # ğŸ›¡ï¸ Security + coherence + integrity
â”œâ”€â”€ database-curator.md               # Entities + frontmatter management
â”œâ”€â”€ email-agent.md                    # Gmail operations + signatures
â””â”€â”€ journal-keeper.md                 # Log/diary automation
```

---

## ğŸ¤– Core Subagent (5)

### 1. ğŸ›¡ï¸ health-security-guardian
**Priority**: CRITICAL
**Trigger**: Pre-commit (BLOCK if secrets), daily, weekly
**Scope**: Security, coherence, integrity check su TUTTO il brain

### 2. database-curator
**Priority**: High
**Trigger**: Sempre (proattivo), cron, email, on-demand
**Scope**: Gestione `database/` (entities extraction, frontmatter validation)

### 3. email-agent
**Priority**: High
**Trigger**: Read/send email, cron check-in
**Scope**: Gmail operations, signature selection, entity extraction

### 4. journal-keeper
**Priority**: Medium
**Trigger**: Fine giornata, post-sessioni, on-demand
**Scope**: `log/` + `diary/` automation, timeline, summaries

### 5. Explore
**Priority**: Medium
**Trigger**: Codebase exploration, "come funziona X?"
**Scope**: Built-in Claude Code feature

---

## ğŸ¯ Implementation Status

- âœ… Architecture designed (README.md)
- âœ… All 5 subagent documented (complete prompts)
- â³ **health-security-guardian** - Priority #1 (pre-commit hook)
- â³ **database-curator** - Depends on database refactoring
- â³ **email-agent** - Depends on database-curator
- â³ **journal-keeper** - Can be standalone
- âœ… **Explore** - Already available

---

## ğŸ“‹ Usage

**Via Task tool**:
```python
Task(
    subagent_type="general-purpose",
    description="Task description",
    prompt=open("tools/subagent/{name}.md").read() + context
)
```

**Automatic**: Anacleto lancia subagent appropriato quando identifica task complesso

---

## ğŸ”„ Dependencies

**health-security-guardian**: None (standalone)
**database-curator**: Requires database frontmatter refactoring
**email-agent**: Requires database-curator + signature templates
**journal-keeper**: None (standalone)

---

## ğŸ“š References

- **Planning**: `../../todo/2025-11-03-subagent-architecture.md`
- **Database refactoring**: `../../todo/2025-11-03-database-refactoring-frontmatter.md`
- **Public docs**: `README.md`

---

**Created**: 2025-11-03 by Anacleto ğŸ¦‰
**Last Updated**: 2025-11-03
**Status**: Planning phase (implementation pending)
